appId: rnbottomsheet.example
---
# US2: Verify reliable open/close/reopen cycles (3 cycles)

- launchApp
- runFlow:
    when:
      visible: "DEVELOPMENT SERVERS"
    commands:
      - tapOn: "http://localhost:8081"
- extendedWaitUntil:
    visible:
      id: "open-sheet-button"
    timeout: 30000

# --- Cycle 1 ---
- tapOn:
    id: "open-sheet-button"
- extendedWaitUntil:
    visible:
      id: "sheet-content"
    timeout: 5000
- assertVisible:
    id: "sheet-title"
- tapOn:
    id: "close-sheet-button"
- extendedWaitUntil:
    notVisible:
      id: "sheet-content"
    timeout: 5000

# --- Cycle 2 ---
- tapOn:
    id: "open-sheet-button"
- extendedWaitUntil:
    visible:
      id: "sheet-content"
    timeout: 5000
- assertVisible:
    id: "sheet-title"
- tapOn:
    id: "close-sheet-button"
- extendedWaitUntil:
    notVisible:
      id: "sheet-content"
    timeout: 5000

# --- Cycle 3 ---
- tapOn:
    id: "open-sheet-button"
- extendedWaitUntil:
    visible:
      id: "sheet-content"
    timeout: 5000
- assertVisible:
    id: "sheet-title"
- assertVisible:
    id: "sheet-title"
- tapOn:
    id: "close-sheet-button"
- extendedWaitUntil:
    notVisible:
      id: "sheet-content"
    timeout: 5000
