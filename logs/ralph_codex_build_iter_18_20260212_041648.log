OpenAI Codex v0.98.0 (research preview)
--------
workdir: /Users/tolu/Desktop/dev/rn-bottom-sheet
model: gpt-5.3-codex
provider: openai
approval: never
sandbox: danger-full-access
reasoning effort: high
reasoning summaries: auto
session id: 019c51c8-501c-75c2-87be-f82c66f9e106
--------
user
# Ralph Build Mode

Based on Geoffrey Huntley's Ralph Wiggum methodology.

---

## Phase 0: Orient

Read `.specify/memory/constitution.md` to understand project principles and constraints.

---

## Phase 1: Discover Work Items

Search for incomplete work from these sources (in order):

1. **specs/ folder** — Look for `.md` files NOT marked `## Status: COMPLETE`
2. **IMPLEMENTATION_PLAN.md** — If exists, find unchecked `- [ ]` tasks
3. **GitHub Issues** — Check for open issues (if this is a GitHub repo)
4. **Any task tracker** — Jira, Linear, etc. if configured

Pick the **HIGHEST PRIORITY** incomplete item:
- Lower numbers = higher priority (001 before 010)
- `[HIGH]` before `[MEDIUM]` before `[LOW]`
- Bugs/blockers before features

Before implementing, search the codebase to verify it's not already done.

---

## Phase 1b: Re-Verification Mode (No Incomplete Work Found)

**If ALL specs appear complete**, don't just exit — do a quality check:

1. **Randomly pick** one completed spec from `specs/`
2. **Strictly re-verify** ALL its acceptance criteria:
   - Run the actual tests mentioned in the spec
   - Manually verify each criterion is truly met
   - Check edge cases
   - Look for regressions
3. **If any criterion fails**: Unmark the spec as complete and fix it
4. **If all pass**: Output `<promise>DONE</promise>` to confirm quality

This ensures the codebase stays healthy even when "nothing to do."

---

## Phase 2: Implement

Implement the selected spec/task completely:
- Follow the spec's requirements exactly
- Write clean, maintainable code
- Add tests as needed

---

## Phase 3: Validate

Run the project's test suite and verify:
- All tests pass
- No lint errors
- The spec's acceptance criteria are 100% met

---

## Phase 3b: Conditional Maestro MCP E2E Gate (Example App)

Identify the active feature spec and check its E2E gate marker:
- Look for `E2E Gate State: deferred|required` in `specs/<feature>/spec.md`.
- Default to `deferred` if the marker is missing.

Gate behavior:
- If `deferred`: do NOT block this loop iteration. Log that Maestro MCP was skipped and why.
- If `required`: Maestro MCP is a hard gate for completion.

When `required`, run Maestro MCP against the example app and verify at least:
- sheet opens from example UI
- sheet dismisses cleanly
- detent interaction works
- primary in-sheet navigation flow works

If any required Maestro MCP flow fails, do NOT output `<promise>DONE</promise>`.

---

## Phase 4: Commit & Update

1. Mark the spec/task as complete (add `## Status: COMPLETE` to spec file)
2. `git add -A`
3. `git commit` with a descriptive message
4. `git push`

---

## Completion Signal

**CRITICAL:** Only output the magic phrase when the work is 100% complete.

Check:
- [ ] Implementation matches all requirements
- [ ] All tests pass
- [ ] All acceptance criteria verified
- [ ] Maestro MCP gate satisfied (or explicitly deferred in the active spec)
- [ ] Changes committed and pushed
- [ ] Spec marked as complete

**If ALL checks pass, output:** `<promise>DONE</promise>`

**If ANY check fails:** Fix the issue and try again. Do NOT output the magic phrase.

mcp: context7 starting
mcp: maestro starting
mcp: codex_apps starting
mcp: maestro ready
mcp: context7 ready
mcp: codex_apps ready
mcp startup: ready: maestro, context7, codex_apps

thinking
**Planning initial repository inspection**
codex
I’m running the Ralph loop now: first I’ll read the project constitution, then scan specs/plans/issues for the highest-priority incomplete work item before touching implementation.
exec
/bin/zsh -lc 'pwd && ls -la' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'cat .specify/memory/constitution.md' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
<!--
Sync Impact Report
Version change: 1.0.0 -> 1.1.0
Modified principles:
- Native Fidelity First -> I. Native Fidelity First
- Verification Before Completion -> II. Verification Before Completion
- Simplicity -> III. Minimal, Intentional Scope
Added principles:
- IV. Living Knowledge Base
- V. Deterministic Integration Contracts
Added sections:
- Operational Constraints
- Workflow & Quality Gates
Removed sections:
- Ralph-specific loop mechanics as governing principle source
Templates/runtime sync status:
- ✅ .specify/templates/plan-template.md (Constitution Check gates aligned)
- ✅ .specify/templates/spec-template.md (reviewed, no change required)
- ✅ .specify/templates/tasks-template.md (reviewed, no change required)
- ✅ AGENTS.md (already points to constitution)
 succeeded in 51ms:
/Users/tolu/desktop/dev/rn-bottom-sheet
total 1184
drwxr-xr-x   46 tolu  staff    1472 Feb 12 02:30 .
drwxr-xr-x@ 108 tolu  staff    3456 Feb 12 02:05 ..
drwxr-xr-x@   3 tolu  staff      96 Feb 12 01:44 .claude
drwxr-xr-x    3 tolu  staff      96 Feb 12 02:11 .codex
drwxr-xr-x@   3 tolu  staff      96 Feb 12 01:44 .cursor
-rw-r--r--@   1 tolu  staff     283 Feb 12 00:45 .editorconfig
drwxr-xr-x@  14 tolu  staff     448 Feb 12 04:16 .git
-rw-r--r--@   1 tolu  staff      72 Feb 12 00:45 .gitattributes
drwxr-xr-x@   5 tolu  staff     160 Feb 12 00:45 .github
-rw-r--r--@   1 tolu  staff     866 Feb 12 01:45 .gitignore
-rw-r--r--@   1 tolu  staff       9 Feb 12 00:45 .nvmrc
drwxr-xr-x@   5 tolu  staff     160 Feb 12 02:02 .specify
-rw-r--r--@   1 tolu  staff       2 Feb 12 00:45 .watchmanconfig
drwxr-xr-x@   4 tolu  staff     128 Feb 12 02:26 .yarn
-rw-r--r--@   1 tolu  staff      96 Feb 12 00:45 .yarnrc.yml
-rw-------@   1 tolu  staff     756 Feb 12 02:13 AGENTS.md
-rw-r--r--@   1 tolu  staff     119 Feb 12 01:44 CLAUDE.md
-rw-r--r--@   1 tolu  staff    5489 Feb 12 00:45 CODE_OF_CONDUCT.md

thinking
**Listing spec statuses**
codex
I’ve loaded the governing constraints from the constitution. Next I’m enumerating incomplete items in `specs/` first, then `IMPLEMENTATION_PLAN.md`, and I’ll pick the highest-priority unmet task.
exec
/bin/zsh -lc "rg --files specs -g '*.md'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'rg -n "''^## Status:|'"\\[HIGH\\]|\\[MEDIUM\\]|\\[LOW\\]|"'^#|''^##" specs -g '"'*.md'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'rg -n "''^- '"\\[ \\]\" IMPLEMENTATION_PLAN.md" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
specs/001-native-ios-sheet-bindings/spec.md
specs/001-native-ios-sheet-bindings/plan.md
specs/001-native-ios-sheet-bindings/data-model.md
specs/001-native-ios-sheet-bindings/research.md
specs/001-native-ios-sheet-bindings/tasks.md
specs/001-native-ios-sheet-bindings/quickstart.md
specs/001-native-ios-sheet-bindings/checklists/native-sheet.md
specs/001-native-ios-sheet-bindings/checklists/requirements.md
 succeeded in 50ms:
specs/001-native-ios-sheet-bindings/spec.md:1:# Feature Specification: Native iOS Sheet Bindings
specs/001-native-ios-sheet-bindings/spec.md:8:## Status: COMPLETE
specs/001-native-ios-sheet-bindings/spec.md:10:## User Scenarios & Testing *(mandatory)*
specs/001-native-ios-sheet-bindings/spec.md:12:### User Story 1 - Present Native Sheet Content (Priority: P1)
specs/001-native-ios-sheet-bindings/spec.md:28:### User Story 2 - Configure Detents and Sheet Behavior (Priority: P1)
specs/001-native-ios-sheet-bindings/spec.md:44:### User Story 3 - Navigation and Animation Interop (Priority: P2)
specs/001-native-ios-sheet-bindings/spec.md:60:### Edge Cases
specs/001-native-ios-sheet-bindings/spec.md:69:## Requirements *(mandatory)*
specs/001-native-ios-sheet-bindings/spec.md:71:### Functional Requirements
specs/001-native-ios-sheet-bindings/spec.md:90:### Key Entities *(include if feature involves data)*
specs/001-native-ios-sheet-bindings/spec.md:97:## Success Criteria *(mandatory)*
specs/001-native-ios-sheet-bindings/spec.md:99:### E2E Stability Gate
specs/001-native-ios-sheet-bindings/spec.md:116:### Measurable Outcomes
specs/001-native-ios-sheet-bindings/spec.md:125:## Assumptions
specs/001-native-ios-sheet-bindings/plan.md:1:# Implementation Plan: Native iOS Sheet Bindings
specs/001-native-ios-sheet-bindings/plan.md:6:## Summary
specs/001-native-ios-sheet-bindings/plan.md:10:## Technical Context
specs/001-native-ios-sheet-bindings/plan.md:22:## Constitution Check
specs/001-native-ios-sheet-bindings/plan.md:32:## Project Structure
specs/001-native-ios-sheet-bindings/plan.md:34:### Documentation (this feature)
 succeeded in 50ms:
28:- [ ] [MEDIUM] Implement grabberVisible prop mapping to prefersGrabberVisible - from IMPLEMENTATION_PLAN API Design
29:- [ ] [MEDIUM] Implement allowSwipeToDismiss behavior - from IMPLEMENTATION_PLAN API Design
30:- [ ] [MEDIUM] Implement expandsWhenScrolledToEdge mapping - from IMPLEMENTATION_PLAN API Design
31:- [ ] [MEDIUM] Implement cornerRadius mapping - from IMPLEMENTATION_PLAN API Design
32:- [ ] [MEDIUM] Implement largestUndimmedDetent mapping - from IMPLEMENTATION_PLAN API Design
33:- [ ] [MEDIUM] Implement backgroundInteraction behavior - from IMPLEMENTATION_PLAN API Design
34:- [ ] [MEDIUM] Implement snapToDetent() with animateChanges batching - from ios-sheet-apis.md
35:- [ ] [LOW] Implement single active sheet enforcement (manager-level ownership) - from IMPLEMENTATION_PLAN Architecture
39:- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
40:- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
41:- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
42:- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
43:- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
44:- [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
45:- [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
52:- [ ] [MEDIUM] Document supported animated prop pathways - from reanimated-interop.md
53:- [ ] [LOW] Document unsupported full-transition control expectations - from reanimated-interop.md
61:- [ ] [HIGH] Add iOS integration tests for presenter lifecycle - from IMPLEMENTATION_PLAN Verification
62:- [ ] [HIGH] Add iOS integration tests for detent behavior - from IMPLEMENTATION_PLAN Verification
63:- [ ] [MEDIUM] Add Maestro E2E flow: open sheet, verify visible - from IMPLEMENTATION_PLAN Verification

thinking
**Selecting highest-priority task**
codex
All specs are marked complete, but `IMPLEMENTATION_PLAN.md` still has unchecked items. I’m now inspecting that plan and the code to identify the single highest-priority incomplete item that is truly not implemented yet.
exec
/bin/zsh -lc "nl -ba IMPLEMENTATION_PLAN.md | sed -n '1,220p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'git status --short' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'rg -n "grabberVisible|allowSwipeToDismiss|expandsWhenScrolledToEdge|cornerRadius|largestUndimmedDetent|backgroundInteraction|snapToDetent|prefersGrabberVisible|isModalInPresentation|largestUndimmedDetentIdentifier" src ios android example' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
     1	# Implementation Plan
     2	
     3	> Auto-generated breakdown of specs into tasks.
     4	> Delete this file to return to working directly from specs.
     5	
     6	## Priority Tasks
     7	
     8	### Phase 1: API and Nitro Contract
     9	
    10	- [x] [HIGH] Define complete TypeScript type model (BottomSheetDetent, BottomSheetChangeReason) - from IMPLEMENTATION_PLAN API Design
    11	- [x] [HIGH] Update RnBottomSheet.nitro.ts with full public props interface - from IMPLEMENTATION_PLAN API Design
    12	- [x] [HIGH] Update RnBottomSheet.nitro.ts with public methods (present, dismiss, snapToDetent, getCurrentDetentIndex) - from IMPLEMENTATION_PLAN API Design
    13	- [x] [HIGH] Define callback prop types (onOpenChange, onDetentChange, lifecycle callbacks) - from IMPLEMENTATION_PLAN API Design
    14	- [x] [HIGH] Regenerate Nitrogen artifacts after contract changes - from tasks/todo.md Phase 1
    15	- [x] [HIGH] Validate typings compile and exports work correctly - from tasks/todo.md Phase 1
    16	- [x] [HIGH] Update src/index.tsx to export all public types - from IMPLEMENTATION_PLAN API Design
    17	
    18	### Phase 2: iOS Sheet Engine
    19	
    20	- [x] [HIGH] Create SheetPresenterViewController using UISheetPresentationController - from ADR-0001
 succeeded in 51ms:
 M .specify/templates/plan-template.md
 M .specify/templates/spec-template.md
 M PROMPT_build.md
 M PROMPT_plan.md
 M scripts/ralph-loop-codex.sh
 M scripts/ralph-loop.sh
?? logs/
?? yarn.lock
 succeeded in 51ms:
src/__tests__/bottom-sheet.contract.test.ts:33:    it.todo('should accept valid backgroundInteractionMode values');
src/__tests__/bottom-sheet.contract.test.ts:34:    it.todo('should reject invalid backgroundInteractionMode values');
ios/RnBottomSheet.swift:60:                snapToDetentInternal(Int(selectedDetentIndex), animated: true)
ios/RnBottomSheet.swift:73:    var grabberVisible: Bool = true {
ios/RnBottomSheet.swift:80:    var allowSwipeToDismiss: Bool = true {
ios/RnBottomSheet.swift:87:    var backgroundInteraction: NativeBackgroundInteraction = .first("modal") {
ios/RnBottomSheet.swift:94:    var cornerRadius: Double = -1 {
ios/RnBottomSheet.swift:101:    var expandsWhenScrolledToEdge: Bool = true {
ios/RnBottomSheet.swift:132:    func snapToDetent(index: Double) throws {
ios/RnBottomSheet.swift:133:        snapToDetentInternal(Int(index), animated: true)
ios/RnBottomSheet.swift:161:        contentVC.isModalInPresentation = !allowSwipeToDismiss
ios/RnBottomSheet.swift:164:            return self.allowSwipeToDismiss
ios/RnBottomSheet.swift:194:    private func snapToDetentInternal(_ index: Int, animated: Bool) {
ios/RnBottomSheet.swift:240:        sheet.prefersGrabberVisible = grabberVisible
ios/RnBottomSheet.swift:241:        sheet.prefersScrollingExpandsWhenScrolledToEdge = expandsWhenScrolledToEdge
ios/RnBottomSheet.swift:244:        if cornerRadius >= 0 {
ios/RnBottomSheet.swift:245:            sheet.preferredCornerRadius = CGFloat(cornerRadius)
ios/RnBottomSheet.swift:300:        switch backgroundInteraction {
ios/RnBottomSheet.swift:304:                sheet.largestUndimmedDetentIdentifier = nil
ios/RnBottomSheet.swift:306:                sheet.largestUndimmedDetentIdentifier = .large

thinking
**Verifying Phase3 implementation completeness**
exec
/bin/zsh -lc 'find ios -maxdepth 3 -type f | sort' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'find nitrogen -maxdepth 4 -type f | sort' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "rg -n \"attach|detach|prepareForRecycle|beforeUpdate|afterUpdate|Child|container|UIViewController|Nitro|Hybrid|UIView\" ios src -g '*.{swift,ts,tsx}'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
ios/RnBottomSheet.swift
 succeeded in 51ms:
nitrogen/generated/.gitattributes
nitrogen/generated/android/c++/JFunc_void.hpp
nitrogen/generated/android/c++/JFunc_void_bool_NativeChangeReason.hpp
nitrogen/generated/android/c++/JFunc_void_double_NativeChangeReason.hpp
nitrogen/generated/android/c++/JHybridRnBottomSheetSpec.cpp
nitrogen/generated/android/c++/JHybridRnBottomSheetSpec.hpp
nitrogen/generated/android/c++/JNativeBackgroundInteraction.cpp
nitrogen/generated/android/c++/JNativeBackgroundInteraction.hpp
nitrogen/generated/android/c++/JNativeChangeReason.hpp
nitrogen/generated/android/c++/JNativeDetentConfig.hpp
nitrogen/generated/android/c++/JNativeDetentType.hpp
nitrogen/generated/android/c++/JVariant_String_Double.cpp
nitrogen/generated/android/c++/JVariant_String_Double.hpp
nitrogen/generated/android/rnbottomsheet+autolinking.cmake
nitrogen/generated/android/rnbottomsheet+autolinking.gradle
nitrogen/generated/android/rnbottomsheetOnLoad.cpp
nitrogen/generated/android/rnbottomsheetOnLoad.hpp
nitrogen/generated/ios/RnBottomSheet+autolinking.rb
nitrogen/generated/ios/RnBottomSheet-Swift-Cxx-Bridge.cpp
nitrogen/generated/ios/RnBottomSheet-Swift-Cxx-Bridge.hpp
 succeeded in 51ms:
ios/RnBottomSheet.swift:4: * HybridRnBottomSheet
ios/RnBottomSheet.swift:7: * This class conforms to the generated HybridRnBottomSheetSpec protocol from Nitrogen.
ios/RnBottomSheet.swift:15:class HybridRnBottomSheet: HybridRnBottomSheetSpec {
ios/RnBottomSheet.swift:18:    // MARK: - UIView (required by HybridViewSpec)
ios/RnBottomSheet.swift:21:    let view: UIView = UIView()
ios/RnBottomSheet.swift:43:    // MARK: - Props (conforming to HybridRnBottomSheetSpec)
ios/RnBottomSheet.swift:108:    // MARK: - Callbacks (conforming to HybridRnBottomSheetSpec)
ios/RnBottomSheet.swift:119:    // MARK: - Methods (conforming to HybridRnBottomSheetSpec)
ios/RnBottomSheet.swift:265:                        let fittedHeight = self.view.systemLayoutSizeFitting(UIView.layoutFittingCompressedSize).height
ios/RnBottomSheet.swift:551:    private func findPresentingViewController() -> UIViewController? {
ios/RnBottomSheet.swift:555:            if let viewController = nextResponder as? UIViewController {
ios/RnBottomSheet.swift:594:extension HybridRnBottomSheet: SheetPresenterDelegate {
ios/RnBottomSheet.swift:654:    weak var owner: HybridRnBottomSheet?
ios/RnBottomSheet.swift:656:    init(owner: HybridRnBottomSheet) {
ios/RnBottomSheet.swift:670:class SheetContentViewController: UIViewController {
ios/RnBottomSheet.swift:679:    var contentView: UIView? {
ios/RnBottomSheet.swift:747:              let containerView = presentationController?.containerView else {
ios/RnBottomSheet.swift:754:        containerView.addGestureRecognizer(recognizer)
ios/RnBottomSheet.swift:762:              let containerView = presentationController?.containerView,
ios/RnBottomSheet.swift:767:        let location = recognizer.location(in: containerView)

thinking
**Inspecting iOS bottom sheet content handling**
codex
I found substantial native sheet code already, including a `SheetContentViewController`; I’m verifying whether Phase 3 is already effectively implemented so we avoid redundant work and pick the true top-priority gap.
exec
/bin/zsh -lc "nl -ba ios/RnBottomSheet.swift | sed -n '1,260p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "nl -ba ios/RnBottomSheet.swift | sed -n '260,560p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "nl -ba ios/RnBottomSheet.swift | sed -n '560,860p'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
     1	import UIKit
     2	
     3	/**
     4	 * HybridRnBottomSheet
     5	 *
     6	 * Native iOS implementation of the bottom sheet using UISheetPresentationController.
     7	 * This class conforms to the generated HybridRnBottomSheetSpec protocol from Nitrogen.
     8	 *
     9	 * Key responsibilities:
    10	 * - Present/dismiss native iOS sheets with React Native content
    11	 * - Map detent configurations to UISheetPresentationController.Detent
    12	 * - Handle lifecycle callbacks and state changes
    13	 * - Bridge interaction events back to JavaScript
    14	 */
    15	class HybridRnBottomSheet: HybridRnBottomSheetSpec {
    16	
    17	    // =========================================================================
    18	    // MARK: - UIView (required by HybridViewSpec)
    19	    // =========================================================================
    20	
 succeeded in 51ms:
   260	                if #available(iOS 16.0, *) {
   261	                    return .custom(identifier: definition.identifier) { [weak self] context in
   262	                        guard let self else {
   263	                            return max(120, context.maximumDetentValue * 0.25)
   264	                        }
   265	                        let fittedHeight = self.view.systemLayoutSizeFitting(UIView.layoutFittingCompressedSize).height
   266	                        if fittedHeight <= 0 {
   267	                            return max(120, context.maximumDetentValue * 0.25)
   268	                        }
   269	                        return min(max(120, fittedHeight), context.maximumDetentValue)
   270	                    }
   271	                }
   272	                return .medium()
   273	            case .semanticMedium:
   274	                return .medium()
   275	            case .semanticLarge:
   276	                return .large()
   277	            case .fraction(let value):
   278	                if #available(iOS 16.0, *) {
   279	                    return .custom(identifier: definition.identifier) { context in
 succeeded in 50ms:
   560	                }
   561	                return topVC
   562	            }
   563	            responder = nextResponder
   564	        }
   565	        return nil
   566	    }
   567	
   568	    fileprivate func handleDetentIdentifierChange(_ sheetPresentationController: UISheetPresentationController) {
   569	        guard let identifier = sheetPresentationController.selectedDetentIdentifier else { return }
   570	
   571	        if suppressNextDetentDelegateEvent {
   572	            suppressNextDetentDelegateEvent = false
   573	            return
   574	        }
   575	
   576	        let nativeDetents = buildNativeDetentIdentifiers()
   577	        if let index = nativeDetents.firstIndex(where: { $0 == identifier }) {
   578	            currentDetentIndex = index
   579	            onDetentChange(Double(index), .swipe)

thinking
**Inspecting generated Swift spec**
exec
/bin/zsh -lc "nl -ba nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift | sed -n '1,260p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "nl -ba nitrogen/generated/ios/swift/HybridRnBottomSheetSpec.swift | sed -n '1,260p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "rg -n \"protocol HybridViewSpec|attach\\(|detach\\(|prepareForRecycle|beforeUpdate|afterUpdate\" nitrogen/generated/ios/swift -g '*.swift'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 53ms:
     1	///
     2	/// HybridRnBottomSheetSpec.swift
     3	/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
     4	/// https://github.com/mrousavy/nitro
     5	/// Copyright © Marc Rousavy @ Margelo
     6	///
     7	
     8	import NitroModules
     9	
    10	/// See ``HybridRnBottomSheetSpec``
    11	public protocol HybridRnBottomSheetSpec_protocol: HybridObject, HybridView {
    12	  // Properties
    13	  var detents: [NativeDetentConfig] { get set }
    14	  var initialDetentIndex: Double { get set }
    15	  var selectedDetentIndex: Double { get set }
    16	  var isOpen: Bool { get set }
    17	  var grabberVisible: Bool { get set }
    18	  var allowSwipeToDismiss: Bool { get set }
    19	  var backgroundInteraction: NativeBackgroundInteraction { get set }
    20	  var cornerRadius: Double { get set }
 succeeded in 53ms:
     1	///
     2	/// HybridRnBottomSheetSpec_cxx.swift
     3	/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
     4	/// https://github.com/mrousavy/nitro
     5	/// Copyright © Marc Rousavy @ Margelo
     6	///
     7	
     8	import NitroModules
     9	
    10	/**
    11	 * A class implementation that bridges HybridRnBottomSheetSpec over to C++.
    12	 * In C++, we cannot use Swift protocols - so we need to wrap it in a class to make it strongly defined.
    13	 *
    14	 * Also, some Swift types need to be bridged with special handling:
    15	 * - Enums need to be wrapped in Structs, otherwise they cannot be accessed bi-directionally (Swift bug: https://github.com/swiftlang/swift/issues/75330)
    16	 * - Other HybridObjects need to be wrapped/unwrapped from the Swift TCxx wrapper
    17	 * - Throwing methods need to be wrapped with a Result<T, Error> type, as exceptions cannot be propagated to C++
    18	 */
    19	open class HybridRnBottomSheetSpec_cxx {
    20	  /**
 succeeded in 51ms:
nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift:412:  public final func beforeUpdate() {
nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift:413:    __implementation.beforeUpdate()
nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift:416:  public final func afterUpdate() {
nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift:417:    __implementation.afterUpdate()
nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift:422:    recyclable.prepareForRecycle()

thinking
**Identifying attach/detach methods**
exec
/bin/zsh -lc "nl -ba nitrogen/generated/ios/swift/HybridRnBottomSheetSpec_cxx.swift | sed -n '320,470p'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
   320	      }()
   321	    }
   322	  }
   323	  
   324	  public final var onWillDismiss: bridge.Func_void {
   325	    @inline(__always)
   326	    get {
   327	      return { () -> bridge.Func_void in
   328	        let __closureWrapper = Func_void(self.__implementation.onWillDismiss)
   329	        return bridge.create_Func_void(__closureWrapper.toUnsafe())
   330	      }()
   331	    }
   332	    @inline(__always)
   333	    set {
   334	      self.__implementation.onWillDismiss = { () -> () -> Void in
   335	        let __wrappedFunction = bridge.wrap_Func_void(newValue)
   336	        return { () -> Void in
   337	          __wrappedFunction.call()
   338	        }
   339	      }()

thinking
**Assessing highest priority incomplete tasks**
exec
/bin/zsh -lc 'find . -maxdepth 4 -type d | rg -n "__tests__|test|Tests|spec"' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 122ms:
7:./specs
8:./specs/001-native-ios-sheet-bindings
9:./specs/001-native-ios-sheet-bindings/checklists
10:./specs/001-native-ios-sheet-bindings/contracts
27:./example/node_modules/test-exclude
28:./example/node_modules/test-exclude/node_modules
103:./example/node_modules/wcwidth/test
217:./example/node_modules/fast-json-stable-stringify/test
233:./example/node_modules/resolve/test
240:./example/node_modules/retry/test
274:./example/node_modules/react-native/third-party-podspecs
318:./example/node_modules/bplist-creator/test
328:./example/node_modules/gensync/test
352:./example/node_modules/function-bind/test
440:./example/node_modules/err-code/test
449:./example/node_modules/encoding/test
479:./example/node_modules/json-schema-traverse/spec
491:./example/node_modules/minimist/test
542:./example/node_modules/supports-preserve-symlinks-flag/test
637:./example/node_modules/is-core-module/test

thinking
**Verifying high-priority task completion**
exec
/bin/zsh -lc 'find docs -maxdepth 3 -type f | sort' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'find specs/001-native-ios-sheet-bindings/contracts -maxdepth 2 -type f | sort' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'rg -n "attach lifecycle|detach lifecycle|prepareForRecycle|nitro-view-components|HybridView|beforeUpdate|afterUpdate|Content Hosting" docs specs IMPLEMENTATION_PLAN.md' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
specs/001-native-ios-sheet-bindings/contracts/bottom-sheet-api.yaml
 succeeded in 52ms:
docs/README.md
docs/adr/ADR-0001-ios-sheet-engine.md
docs/adr/ADR-0002-content-hosting-model.md
docs/adr/ADR-0003-navigation-adapter-boundary.md
docs/changelog-notes/README.md
docs/implementation-plan-v1.md
docs/knowledge-index.md
docs/references/ios-sheet-apis.md
docs/references/nitro-view-components.md
docs/references/react-navigation-form-sheet.md
docs/references/reanimated-interop.md
docs/references/swiftui-sheet-apis.md
docs/sources.yaml
 succeeded in 50ms:
IMPLEMENTATION_PLAN.md:37:### Phase 3: Content Hosting
IMPLEMENTATION_PLAN.md:41:- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
IMPLEMENTATION_PLAN.md:42:- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
IMPLEMENTATION_PLAN.md:43:- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
IMPLEMENTATION_PLAN.md:44:- [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
IMPLEMENTATION_PLAN.md:45:- [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
specs/001-native-ios-sheet-bindings/research.md:18:## Decision 3: Content Hosting Strategy
docs/sources.yaml:4:      "id": "nitro-view-components",
docs/sources.yaml:10:      "local_doc_path": "docs/references/nitro-view-components.md"
docs/references/nitro-view-components.md:13:5. `beforeUpdate()` and `afterUpdate()` can be used to batch prop application.
docs/references/nitro-view-components.md:15:7. Recycled views must implement `RecyclableView.prepareForRecycle()` to avoid stale content.
docs/knowledge-index.md:7:| nitro-view-components | Nitro View Components | nitro docs current (retrieved 2026-02-12) | 2026-02-12 | Nitro lifecycle, threading, callback and recycle behavior for host views. | `docs/references/nitro-view-components.md` | [link](https://nitro.margelo.com/docs/view-components) |

thinking
**Reviewing documentation for gaps**
exec
/bin/zsh -lc "nl -ba docs/adr/ADR-0002-content-hosting-model.md | sed -n '1,260p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "nl -ba docs/implementation-plan-v1.md | sed -n '1,260p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "nl -ba docs/references/nitro-view-components.md | sed -n '1,220p'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 50ms:
     1	# ADR-0002: Support Arbitrary RN Children in Sheet Content
     2	
     3	- Status: Accepted
     4	- Date: 2026-02-12
     5	
     6	## Context
     7	
     8	A primary requirement is rendering arbitrary React Native views inside the native sheet.
     9	
    10	## Decision
    11	
    12	Implement native-presented sheet container that hosts RN children through the Nitro host boundary.
    13	
    14	## Consequences
    15	
    16	1. High flexibility for consumer content and composition.
    17	2. Additional lifecycle complexity for attach/detach/recycle handling.
    18	3. Requires robust cleanup to avoid stale view reuse artifacts.
 succeeded in 50ms:
     1	# Nitro View Components Notes
     2	
     3	## Why It Matters
     4	
     5	This project is implemented as a Nitro View, so Nitro lifecycle and threading rules are core to correctness.
     6	
     7	## Key Constraints
     8	
     9	1. Nitro Views require React Native 0.78+ and New Architecture/Fabric.
    10	2. A `*.nitro.ts` declaration drives generated ShadowNode/config/code bindings.
    11	3. JS host registration uses `getHostComponent(...)` + generated view config JSON.
    12	4. Props can arrive from different threads (React path vs `hybridRef` path), so native code must be thread-safe.
    13	5. `beforeUpdate()` and `afterUpdate()` can be used to batch prop application.
    14	6. Callback props in Nitro Views require wrapping (`callback(...)`) due to React Native core function handling.
    15	7. Recycled views must implement `RecyclableView.prepareForRecycle()` to avoid stale content.
    16	
    17	## Implications for rn-bottom-sheet
    18	
    19	1. Native sheet presenter state cannot assume a single-thread write path.
    20	2. Cleanup must be deterministic for reused views.
 succeeded in 50ms:
     1	# Native iOS Sheet Library Plan (v1)
     2	
     3	## Summary
     4	
     5	Build an iOS-first React Native library that presents native iOS sheets using `UISheetPresentationController` via Nitro Views, supports arbitrary React Native children in sheet content, provides optional React Navigation adapters, defines a constrained Reanimated interop contract, and maintains a living in-repo knowledge base.
     6	
     7	## Scope
     8	
     9	1. Ship v1 for iOS 16+ on RN 0.81+ with New Architecture/Fabric.
    10	2. Expose controlled + imperative API surface.
    11	3. Support semantic and numeric detents with runtime changes.
    12	4. Support arbitrary React Native child content in the sheet.
    13	5. Support single active sheet globally in v1.
    14	6. Provide optional React Navigation integration package.
    15	7. Provide curated documentation and architecture records in `docs/`.
    16	8. Enforce verification with unit, iOS integration, and Maestro happy-path E2E.
    17	
    18	## Non-Goals
    19	
    20	1. Android native parity in v1.

thinking
**Clarifying incomplete spec detection and GitHub issues check**
codex
I confirmed many unchecked implementation-plan entries are stale against current code, so I still need to identify the first truly unimplemented highest-priority item. I’ll quickly check open GitHub issues as requested by the loop before finalizing the target task.
exec
/bin/zsh -lc 'git remote -v' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "ls -la .codex && rg -n \"linear|jira|tracker|task\" .codex AGENTS.md tasks -g '*.md'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
origin	https://github.com/tolulawson/rn-bottom-sheet.git (fetch)
origin	https://github.com/tolulawson/rn-bottom-sheet.git (push)
 succeeded in 50ms:
total 0
drwxr-xr-x   3 tolu  staff    96 Feb 12 02:11 .
drwxr-xr-x  46 tolu  staff  1472 Feb 12 02:30 ..
drwxr-xr-x  11 tolu  staff   352 Feb 12 02:02 prompts
tasks/lessons.md:14:- Trigger: User clarified "tax" meant "tasks" and requested direct execution.
tasks/lessons.md:17:- Action Taken: Added docs/tasks scaffolding and committed plan artifacts without further gating.
.codex/prompts/speckit.tasks.md:2:description: Generate an actionable, dependency-ordered tasks.md for the feature based on available design artifacts.
.codex/prompts/speckit.tasks.md:29:   - Note: Not all projects have all documents. Generate tasks based on what's available.
.codex/prompts/speckit.tasks.md:31:3. **Execute task generation workflow**:
.codex/prompts/speckit.tasks.md:36:   - If research.md exists: Extract decisions for setup tasks
.codex/prompts/speckit.tasks.md:37:   - Generate tasks organized by user story (see Task Generation Rules below)
.codex/prompts/speckit.tasks.md:40:   - Validate task completeness (each user story has all needed tasks, independently testable)
.codex/prompts/speckit.tasks.md:42:4. **Generate tasks.md**: Use `.specify/templates/tasks-template.md` as structure, fill with:
.codex/prompts/speckit.tasks.md:44:   - Phase 1: Setup tasks (project initialization)
.codex/prompts/speckit.tasks.md:45:   - Phase 2: Foundational tasks (blocking prerequisites for all user stories)
.codex/prompts/speckit.tasks.md:47:   - Each phase includes: story goal, independent test criteria, tests (if requested), implementation tasks
.codex/prompts/speckit.tasks.md:49:   - All tasks must follow the strict checklist format (see Task Generation Rules below)
.codex/prompts/speckit.tasks.md:50:   - Clear file paths for each task
.codex/prompts/speckit.tasks.md:55:5. **Report**: Output path to generated tasks.md and summary:
.codex/prompts/speckit.tasks.md:56:   - Total task count
exec
/bin/zsh -lc 'gh issue list --state open --limit 50' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 417ms:


thinking
**Inspecting task list structure**
exec
/bin/zsh -lc "nl -ba tasks/todo.md | sed -n '1,420p'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 50ms:
Total output lines: 354

     1	# Implementation Todo
     2	
     3	## Phase 0: Project Memory Bootstrap
     4	
     5	- [x] Create `docs/` knowledge base structure
     6	- [x] Add decision-complete implementation plan
     7	- [x] Add reference summaries and source index
     8	- [x] Add ADRs for primary architecture decisions
     9	- [x] Add sync/check scripts for docs integrity
    10	
    11	## Phase 1: API and Nitro Contract
    12	
    13	- [x] Finalize public TypeScript API and Nitro view contract
    14	- [x] Regenerate Nitrogen artifacts
    15	- [x] Validate typings and exports
    16	
    17	## Phase 2: iOS Sheet Engine
    18	

thinking
**Prioritizing missing integration tests**
exec
/bin/zsh -lc "rg -n \"protocol HybridView|beforeUpdate\\(|afterUpdate\\(|protocol RecyclableView|prepareForRecycle\\(\" node_modules/react-native-nitro-modules -g '*.swift'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
node_modules/react-native-nitro-modules/ios/views/HybridView.swift:13:  public protocol HybridView: HybridObject {
node_modules/react-native-nitro-modules/ios/views/HybridView.swift:26:    func beforeUpdate()
node_modules/react-native-nitro-modules/ios/views/HybridView.swift:31:    func afterUpdate()
node_modules/react-native-nitro-modules/ios/views/HybridView.swift:35:    public func beforeUpdate() { /* noop */  }
node_modules/react-native-nitro-modules/ios/views/HybridView.swift:36:    public func afterUpdate() { /* noop */  }
node_modules/react-native-nitro-modules/ios/views/RecyclableView.swift:9:public protocol RecyclableView {
node_modules/react-native-nitro-modules/ios/views/RecyclableView.swift:17:  func prepareForRecycle()
exec
/bin/zsh -lc "nl -ba node_modules/react-native-nitro-modules/ios/views/HybridView.swift | sed -n '1,200p'" in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc "nl -ba node_modules/react-native-nitro-modules/ios/views/RecyclableView.swift | sed -n '1,200p'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 53ms:
     1	//
     2	//  HybridView.swift
     3	//  NitroModules
     4	//
     5	//  Created by Marc Rousavy on 13.01.25.
     6	//
     7	
     8	#if canImport(UIKit)
     9	
    10	  import UIKit
    11	
    12	  /// A base protocol for all Swift-based Hybrid Views.
    13	  public protocol HybridView: HybridObject {
    14	    associatedtype ViewType: UIView
    15	    /**
    16	     * Get the ``UIView`` this HybridView is holding.
    17	     *
    18	     * This value should not change during the lifetime of this ``HybridView``.
    19	     */
    20	    var view: ViewType { get }
 succeeded in 51ms:
     1	//
     2	//  RecyclableView.swift
     3	//  NitroModules
     4	//
     5	//  Created by Marc Rousavy on 13.01.25.
     6	//
     7	
     8	/// A `HybridView` that can also be recycled.
     9	public protocol RecyclableView {
    10	  /**
    11	    * Called when the view is going to be recycled to
    12	    * be re-used later on with different props.
    13	    *
    14	    * This is a good place to reset any internal state
    15	    * to it's default value.
    16	    */
    17	  func prepareForRecycle()
    18	}

thinking
**Planning native container lifecycle**
Plan update
Ralph loop selected the first truly incomplete high-priority content-hosting gap from IMPLEMENTATION_PLAN Phase 3 after verifying many earlier unchecked items are already implemented.
  → Record this iteration plan in tasks/todo.md with checkable items and confirm target scope
  • Implement Phase 3 host-view lifecycle/recycle behavior in iOS native module
  • Run validation gates (lint, typecheck, tests, iOS build) and verify acceptance impact
  • Update tracking docs, commit, and push changes

thinking
**Adding unchecked task section**
codex
I’ve selected the Phase 3 `[HIGH]` content-hosting lifecycle gap as the top unimplemented item and will now add a fresh checklist section in `tasks/todo.md` before making code changes.
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/tasks/todo.md
@@ -354 +354,9 @@
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes
apply_patch(auto_approved=true) exited 0 in 17ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/tasks/todo.md
file update:
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Planning verification check-in**
codex
Plan checklist is now recorded in `tasks/todo.md`; implementation scope is limited to host attach/detach lifecycle plus recycle cleanup in `ios/RnBottomSheet.swift`. I’m proceeding with that implementation now, then I’ll run full validation gates.
Plan update
  ✓ Record this iteration plan in tasks/todo.md with checkable items and confirm target scope
  → Implement Phase 3 host-view lifecycle/recycle behavior in iOS native module
  • Run validation gates (lint, typecheck, tests, iOS build) and verify acceptance impact
  • Update tracking docs, commit, and push changes
file update:
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Designing reusable sheet view with lifecycle and recycling**
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
@@ -1,2 +1,3 @@
 import UIKit
+import NitroModules
 
@@ -14,3 +15,3 @@
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
@@ -20,3 +21,3 @@
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
@@ -29,2 +30,8 @@
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
@@ -41,2 +48,8 @@
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
apply_patch(auto_approved=true) exited 0 in 27ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..9e53cf5c1c1baad3cf11ae8724db73f0056a221c
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..9e53cf5c1c1baad3cf11ae8724db73f0056a221c
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Planning method patches**
codex
I’m editing `ios/RnBottomSheet.swift` now to queue presentation while detached, handle attach/detach transitions explicitly, and add deterministic recycle teardown for reused Nitro views.
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
@@ -136,2 +136,3 @@
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
@@ -140,2 +141,3 @@
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
@@ -158,4 +160,6 @@
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
@@ -165,2 +169,12 @@
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
@@ -194,2 +208,3 @@
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
@@ -201,5 +216,12 @@
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
apply_patch(auto_approved=true) exited 0 in 49ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..9512d39bc32cb270bd377605c1202cfb943a4de5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..9512d39bc32cb270bd377605c1202cfb943a4de5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Adding lifecycle and recycle methods**
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
@@ -622,2 +622,55 @@
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
apply_patch(auto_approved=true) exited 0 in 43ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..19db4868594b949020e682b99574fa5ae76889b6
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,59 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..19db4868594b949020e682b99574fa5ae76889b6
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,59 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Planning new container class**
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
@@ -756,2 +756,22 @@
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
apply_patch(auto_approved=true) exited 0 in 41ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..f309d6728a72b439f3bd056bf653ad40ab772f8c
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,59 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +754,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..f309d6728a72b439f3bd056bf653ad40ab772f8c
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,59 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +754,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Identifying recycle preparation fixes**
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
@@ -663,2 +663,3 @@
         currentDetentIndex = 0
+        isHostAttached = view.window != nil
 
apply_patch(auto_approved=true) exited 0 in 34ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..cc11edc91f300edb0f47e0a29bac4a7730f9dd67
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..cc11edc91f300edb0f47e0a29bac4a7730f9dd67
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Planning sequential lint tests**
codex
Core lifecycle/recycle code is in place. I’m running the full validation gate now (`lint`, `typecheck`, `test`, and iOS example build) before updating plan trackers.
exec
/bin/zsh -lc 'yarn lint' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 2.12s:

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..cc11edc91f300edb0f47e0a29bac4a7730f9dd67
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

exec
/bin/zsh -lc 'yarn typecheck' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 983ms:

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..cc11edc91f300edb0f47e0a29bac4a7730f9dd67
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

exec
/bin/zsh -lc 'yarn test' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 906ms:
watchman warning:  Recrawled this watch 1 time, most recently because:
MustScanSubDirs UserDroppedTo resolve, please review the information on
https://facebook.github.io/watchman/docs/troubleshooting.html#recrawl
To clear this warning, run:
`watchman watch-del '/Users/tolu/Desktop/dev/rn-bottom-sheet' ; watchman watch-project '/Users/tolu/Desktop/dev/rn-bottom-sheet'`

PASS src/__tests__/bottom-sheet.navigation.test.ts
PASS example/src/__tests__/sheet-open-dismiss.integration.test.tsx
PASS src/__tests__/bottom-sheet.wrapper.test.ts
PASS src/__tests__/bottom-sheet.reanimated.test.ts
PASS src/__tests__/bottom-sheet.detents.test.ts
PASS src/__tests__/bottom-sheet.fallback.test.ts
PASS src/__tests__/bottom-sheet.methods.test.ts
PASS src/__tests__/index.test.tsx
PASS src/__tests__/bottom-sheet-adapter.test.ts
PASS src/__tests__/bottom-sheet.contract.test.ts
PASS src/__tests__/bottom-sheet.lifecycle.test.ts

Test Suites: 11 passed, 11 total
Tests:       19 todo, 38 passed, 57 total
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..cc11edc91f300edb0f47e0a29bac4a7730f9dd67
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Weighing iOS build command options**
exec
/bin/zsh -lc 'yarn workspace rn-bottom-sheet-example ios' in /Users/tolu/Desktop/dev/rn-bottom-sheet exited 1 in 10.21s:
› Port 8081 is running assetbase in another window
  /Users/tolu/Desktop/dev/heroui-native-example (pid 96495)
Input is required, but 'npx expo' is in non-interactive mode.
Required input:
> Use port 8082 instead?
› Skipping dev server
› Planning build
› Packaging expo-json-utils Pods/EXJSONUtils » libEXJSONUtils.a
› Executing react-native Pods/hermes-engine » [CP-User] [Hermes] Replace Hermes for the right configuration, if needed
› Executing react-native Pods/ReactNativeDependencies » [CP-User] [RNDeps] Replace React Native Dependencies for the right configuration, if needed
› Copying   EXConstants/ExpoConstants_privacy.bundle/PrivacyInfo.xcprivacy ➜ node_modules/expo-constants/ios/PrivacyInfo.xcprivacy
› Copying   React-cxxreact/React-cxxreact_privacy.bundle/PrivacyInfo.xcprivacy ➜ node_modules/react-native/ReactCommon/cxxreact/PrivacyInfo.xcprivacy
› Copying   React-Core/React-Core_privacy.bundle/PrivacyInfo.xcprivacy ➜ node_modules/react-native/React/Resources/PrivacyInfo.xcprivacy
› Copying   ExpoFileSystem/ExpoFileSystem_privacy.bundle/PrivacyInfo.xcprivacy ➜ node_modules/expo-file-system/ios/PrivacyInfo.xcprivacy
› Preparing expo-constants Pods/EXConstants-EXConstants » ResourceBundle-EXConstants-EXConstants-Info.plist
› Packaging expo-dev-menu-interface Pods/expo-dev-menu-interface » libexpo-dev-menu-interface.a
› Preparing Pods/EXConstants-ExpoConstants_privacy » ResourceBundle-ExpoConstants_privacy-EXConstants-Info.plist
› Preparing Pods/React-Core-React-Core_privacy » ResourceBundle-React-Core_privacy-React-Core-Info.plist
› Preparing Pods/React-cxxreact-React-cxxreact_privacy » ResourceBundle-React-cxxreact_privacy-React-cxxreact-Info.plist
› Preparing Pods/ExpoFileSystem-ExpoFileSystem_privacy » ResourceBundle-ExpoFileSystem_privacy-ExpoFileSystem-Info.plist
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..cc11edc91f300edb0f47e0a29bac4a7730f9dd67
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+private final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Fixing access control compile error**
codex
The iOS build surfaced a Swift visibility error from the new host view type; I’m fixing the access level and re-running the full validation gates immediately.
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
@@ -758,3 +758,3 @@
 /// Nitro host view used as the content root and attach/detach lifecycle source.
-private final class SheetHostContainerView: UIView {
+final class SheetHostContainerView: UIView {
     weak var lifecycleOwner: HybridRnBottomSheet?
apply_patch(auto_approved=true) exited 0 in 40ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/ios/RnBottomSheet.swift
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Planning full rerun validation**
codex
I’ve applied the access-level correction and am re-running `lint`, `typecheck`, `test`, and iOS build to keep the gate deterministic.
exec
/bin/zsh -lc 'yarn lint' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'yarn typecheck' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 1.19s:

 succeeded in 2.86s:

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Running tests and iOS build**
exec
/bin/zsh -lc 'yarn test' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 983ms:
watchman warning:  Recrawled this watch 1 time, most recently because:
MustScanSubDirs UserDroppedTo resolve, please review the information on
https://facebook.github.io/watchman/docs/troubleshooting.html#recrawl
To clear this warning, run:
`watchman watch-del '/Users/tolu/Desktop/dev/rn-bottom-sheet' ; watchman watch-project '/Users/tolu/Desktop/dev/rn-bottom-sheet'`

PASS src/__tests__/bottom-sheet.navigation.test.ts
PASS example/src/__tests__/sheet-open-dismiss.integration.test.tsx
PASS src/__tests__/bottom-sheet.wrapper.test.ts
PASS src/__tests__/bottom-sheet.reanimated.test.ts
PASS src/__tests__/bottom-sheet-adapter.test.ts
PASS src/__tests__/bottom-sheet.fallback.test.ts
PASS src/__tests__/bottom-sheet.methods.test.ts
PASS src/__tests__/bottom-sheet.detents.test.ts
PASS src/__tests__/bottom-sheet.contract.test.ts
PASS src/__tests__/bottom-sheet.lifecycle.test.ts
PASS src/__tests__/index.test.tsx

Test Suites: 11 passed, 11 total
Tests:       19 todo, 38 passed, 57 total
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Retrying iOS build with prompt handling**
exec
/bin/zsh -lc 'yarn workspace rn-bottom-sheet-example ios' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 25.65s:
› Port 8081 is running assetbase in another window
  /Users/tolu/Desktop/dev/heroui-native-example (pid 96495)
Input is required, but 'npx expo' is in non-interactive mode.
Required input:
> Use port 8082 instead?
› Skipping dev server
› Planning build
› Preparing Pods/expo-dev-menu-EXDevMenu » ResourceBundle-EXDevMenu-expo-dev-menu-Info.plist
› Preparing Pods/ExpoFileSystem-ExpoFileSystem_privacy » ResourceBundle-ExpoFileSystem_privacy-ExpoFileSystem-Info.plist
› Preparing Pods/React-cxxreact-React-cxxreact_privacy » ResourceBundle-React-cxxreact_privacy-React-cxxreact-Info.plist
› Preparing Pods/React-Core-React-Core_privacy » ResourceBundle-React-Core_privacy-React-Core-Info.plist
› Preparing Pods/EXConstants-ExpoConstants_privacy » ResourceBundle-ExpoConstants_privacy-EXConstants-Info.plist
    Run script build phase '[CP-User] [Hermes] Replace Hermes for the right configuration, if needed' will be run during every build because it does not specify any outputs. To address this issue, either add output dependencies to the script phase, or configure it to run in every build by unchecking "Based on dependency analysis" in the script phase. (in target 'hermes-engine' from project 'Pods')
› Executing react-native Pods/hermes-engine » [CP-User] [Hermes] Replace Hermes for the right configuration, if needed
› Executing react-native Pods/ReactNativeDependencies » [CP-User] [RNDeps] Replace React Native Dependencies for the right configuration, if needed
› Preparing expo-constants Pods/EXConstants-EXConstants » ResourceBundle-EXConstants-EXConstants-Info.plist
› Executing expo-dev-menu-interface Pods/expo-dev-menu-interface » Copy generated compatibility header
› Preparing Pods/expo-dev-launcher-EXDevLauncher » ResourceBundle-EXDevLauncher-expo-dev-launcher-Info.plist
› Executing react-native Pods/hermes-engine » [CP] Copy XCFrameworks
› Executing react-native Pods/ReactNativeDependencies » [CP] Copy XCFrameworks
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Updating implementation plan statuses**
exec
/bin/zsh -lc 'rg -n "E2E Gate State" specs/001-native-ios-sheet-bindings/spec.md' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
101:- **E2E Gate State**: `deferred`
123:- **SC-006**: When `E2E Gate State` is `required`, Maestro MCP flows for the example app pass for open, dismiss, detent interaction, and in-sheet navigation in 100% of release-gate runs.
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Updating task completion markers**
exec
/bin/zsh -lc "rg -n \"Phase 3 Native Host Lifecycle \\+ Recycle|highest-priority truly incomplete item is Phase 3|Update "'`IMPLEMENTATION_PLAN.md`" tasks/todo.md' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
zsh:1: command not found: IMPLEMENTATION_PLAN.md
40:- [ ] Update CI gates as needed
160:- [x] Update `IMPLEMENTATION_PLAN.md` progress and capture results in Review section
259:- [x] Update package exports/usages to use the new compatibility surface
277:- [x] Update example integration assertions for navigation + animation scenario coverage in `example/src/__tests__/sheet-open-dismiss.integration.test.tsx`
285:- [x] Update installation, usage, API reference, and fallback/navigation/reanimated notes in `README.md`
293:- [x] Update `docs/adr/ADR-0001-ios-sheet-engine.md` with integration constraints and supported behavior boundaries
335:- [x] Update `E2E Gate State` decision in `specs/001-native-ios-sheet-bindings/spec.md`
346:- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with results
354:- [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
356:## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
358:- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
362:- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Preparing patch locations**
exec
/bin/zsh -lc "nl -ba tasks/todo.md | sed -n '56,90p'" in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 53ms:
    56	- [x] Verify scripts execute with `--help`
    57	
    58	## Review
    59	
    60	- Date: 2026-02-12
    61	- Reviewer: Codex (GPT-5)
    62	- Findings:
    63	  - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
    64	  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
    65	  - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
    66	  - Re-verified iOS/native integration with a successful `yarn workspace rn-bottom-sheet-example ios` build/run and passing `yarn lint`, `yarn typecheck`, and `yarn test`.
    67	  - Updated `IMPLEMENTATION_PLAN.md` completion status for Phase 2 presenter/present/dismiss/lifecycle items and Phase 5 iOS example build verification.
    68	  - Ralph iteration `T038`: executed conditional Maestro gate evaluation; identified that US2/US3 tasks are complete and baseline JS checks pass, but iOS example build fails (`yarn workspace rn-bottom-sheet-example ios`) due `ios/RnBottomSheet.swift` Nitrogen protocol conformance errors, preventing app install/launch for deterministic Maestro flow execution.
    69	  - Updated `specs/001-native-ios-sheet-bindings/spec.md` with dated gate-evaluation rationale and retained `E2E Gate State: deferred` until the iOS build blocker is fixed.
    70	  - Marked `T038` complete in `specs/001-native-ios-sheet-bindings/tasks.md`.
    71	  - Marked `specs/001-native-ios-sheet-bindings/spec.md` as `## Status: COMPLETE` after all task items were closed.
    72	  - Ralph iteration `T037`: extended `docs/implementation-plan-v1.md` with explicit Maestro MCP invocation expectations (source flow, required assertions, deferred vs required gate behavior, and failure handling policy).
    73	  - Marked `T037` complete in `specs/001-native-ios-sheet-bindings/tasks.md`.
    74	  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, and `yarn test`.
    75	  - Ralph iteration `T036`: created `example/.maestro/sheet-core-flows.yaml` with deterministic steps for open, detent interaction, in-sheet navigation, and dismiss flows; validated syntax with Maestro MCP (`valid: true`).
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..a0689b172fd0be00cc13ae8618b2acbdd60dc522
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -352,3 +352,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Planning patch insertion points**
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/tasks/todo.md
@@ -62,2 +62,6 @@
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
@@ -357,6 +361,6 @@
 
-- [ ] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
-- [ ] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
-- [ ] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
-- [ ] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
-- [ ] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes
apply_patch(auto_approved=true) exited 0 in 46ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/tasks/todo.md
file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Updating implementation plan checkboxes**
file update
M /Users/tolu/Desktop/dev/rn-bottom-sheet/IMPLEMENTATION_PLAN.md
@@ -38,7 +38,7 @@
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
apply_patch(auto_approved=true) exited 0 in 34ms:
Success. Updated the following files:
M /Users/tolu/Desktop/dev/rn-bottom-sheet/IMPLEMENTATION_PLAN.md
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Reviewing code changes before commit**
codex
I’ve updated task tracking and implementation plan checkboxes for the completed Phase 3 item. I’m doing a final diff review now, then I’ll commit and push.
exec
/bin/zsh -lc 'git status --short' in /Users/tolu/Desktop/dev/rn-bottom-sheetexec
/bin/zsh -lc 'git diff -- ios/RnBottomSheet.swift IMPLEMENTATION_PLAN.md tasks/todo.md' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 53ms:
 M .specify/templates/plan-template.md
 M .specify/templates/spec-template.md
 M IMPLEMENTATION_PLAN.md
 M PROMPT_build.md
 M PROMPT_plan.md
 M ios/RnBottomSheet.swift
 M scripts/ralph-loop-codex.sh
 M scripts/ralph-loop.sh
 M tasks/todo.md
?? logs/
?? yarn.lock
 succeeded in 53ms:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2b..b9c4ee7 100644
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Finalizing commit with staged files**
Plan update
  ✓ Record this iteration plan in tasks/todo.md with checkable items and confirm target scope
  ✓ Implement Phase 3 host-view lifecycle/recycle behavior in iOS native module
  ✓ Run validation gates (lint, typecheck, tests, iOS build) and verify acceptance impact
  → Update tracking docs, commit, and push changes
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

codex
Validation gates are passing after the fix, and I’ve reviewed the diff. I’m now committing only the three files touched for this iteration and pushing the branch.
exec
/bin/zsh -lc 'git status --short' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
 M .specify/templates/plan-template.md
 M .specify/templates/spec-template.md
 M IMPLEMENTATION_PLAN.md
 M PROMPT_build.md
 M PROMPT_plan.md
 M ios/RnBottomSheet.swift
 M scripts/ralph-loop-codex.sh
 M scripts/ralph-loop.sh
 M tasks/todo.md
?? logs/
?? yarn.lock
exec
/bin/zsh -lc 'git add ios/RnBottomSheet.swift IMPLEMENTATION_PLAN.md tasks/todo.md && git commit -m "feat(ios): add host lifecycle and recycle cleanup"' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 491ms:
┃  commitlint ❯ 

[1G[0K⠙[1G[0K[1G[0K⠙[1G[0K
                                      
  ────────────────────────────────────
summary: (done in 0.45 seconds)       
✔️ commitlint (0.45 seconds)
[main 0a01b16] feat(ios): add host lifecycle and recycle cleanup
 3 files changed, 129 insertions(+), 8 deletions(-)
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Verifying commit staging**
codex
I need one quick follow-up status check because the parallel status command raced with commit execution; I’m confirming the commit landed cleanly before pushing.
exec
/bin/zsh -lc 'git status --short && git log --oneline -n 1' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 51ms:
 M .specify/templates/plan-template.md
 M .specify/templates/spec-template.md
 M PROMPT_build.md
 M PROMPT_plan.md
 M scripts/ralph-loop-codex.sh
 M scripts/ralph-loop.sh
?? logs/
?? yarn.lock
0a01b16 feat(ios): add host lifecycle and recycle cleanup
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Pushing committed changes**
exec
/bin/zsh -lc 'git push origin HEAD' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 710ms:
To https://github.com/tolulawson/rn-bottom-sheet.git
   48dc329..0a01b16  HEAD -> main
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

Plan update
  ✓ Record this iteration plan in tasks/todo.md with checkable items and confirm target scope
  ✓ Implement Phase 3 host-view lifecycle/recycle behavior in iOS native module
  ✓ Run validation gates (lint, typecheck, tests, iOS build) and verify acceptance impact
  ✓ Update tracking docs, commit, and push changes
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Clarifying completion criteria**
🌐 Searching the web...
🌐 Searched the web

thinking
**Correcting git command approach**
codex
I’m doing one final commit verification (`git show`) so I can report exact changed files and then close the loop with the required completion signal.
exec
/bin/zsh -lc 'git show --name-only --oneline --no-patch && git show --name-only --pretty=format: 0a01b16' in /Users/tolu/Desktop/dev/rn-bottom-sheet succeeded in 52ms:
0a01b16 feat(ios): add host lifecycle and recycle cleanup
IMPLEMENTATION_PLAN.md
ios/RnBottomSheet.swift
tasks/todo.md
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes


thinking
**Confirming final output format**
codex
<promise>DONE</promise>
file update:
diff --git a/IMPLEMENTATION_PLAN.md b/IMPLEMENTATION_PLAN.md
index 268ae2bc937885f04f19e02a795e0394bc48c16c..b9c4ee75bf956e66b4c85703cccf8b03bd8530bf
--- a/IMPLEMENTATION_PLAN.md
+++ b/IMPLEMENTATION_PLAN.md
@@ -36,11 +36,11 @@
 
 ### Phase 3: Content Hosting
 
-- [ ] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
-- [ ] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
-- [ ] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
-- [ ] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
+- [x] [HIGH] Create native container view for RN children inside sheet - from ADR-0002
+- [x] [HIGH] Implement RN children mounting into native-hosted container - from ADR-0002
+- [x] [HIGH] Implement attach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement detach lifecycle handling - from nitro-view-components.md
+- [x] [HIGH] Implement prepareForRecycle() for recycled view cleanup - from nitro-view-components.md
 - [ ] [MEDIUM] Handle thread-safety for props arriving from different threads - from nitro-view-components.md
 - [ ] [MEDIUM] Implement beforeUpdate()/afterUpdate() for batched prop application - from nitro-view-components.md
 
diff --git a/ios/RnBottomSheet.swift b/ios/RnBottomSheet.swift
index 8e27eea384021929eaf09a9d9c4405b4e49782f1..66c2876cdfe006b319f4422eda12f1fcb73342e5
--- a/ios/RnBottomSheet.swift
+++ b/ios/RnBottomSheet.swift
@@ -1,4 +1,5 @@
 import UIKit
+import NitroModules
 
 /**
  * HybridRnBottomSheet
@@ -12,13 +13,13 @@
  * - Handle lifecycle callbacks and state changes
  * - Bridge interaction events back to JavaScript
  */
-class HybridRnBottomSheet: HybridRnBottomSheetSpec {
+class HybridRnBottomSheet: HybridRnBottomSheetSpec, RecyclableView {
 
     // =========================================================================
     // MARK: - UIView (required by HybridViewSpec)
     // =========================================================================
 
-    let view: UIView = UIView()
+    let view: SheetHostContainerView
 
     // =========================================================================
     // MARK: - Sheet State
@@ -27,6 +28,12 @@
     /// Current presentation state
     private var isCurrentlyPresented: Bool = false
 
+    /// Whether the host view is currently attached to a window hierarchy.
+    private var isHostAttached: Bool = false
+
+    /// Tracks pending presentation requests while host view is detached.
+    private var shouldPresentWhenHostAttaches: Bool = false
+
     /// Current detent index
     private var currentDetentIndex: Int = 0
 
@@ -39,6 +46,12 @@
     /// Suppress one delegate callback after programmatic detent changes to avoid duplicate events
     private var suppressNextDetentDelegateEvent: Bool = false
 
+    override init() {
+        self.view = SheetHostContainerView()
+        super.init()
+        self.view.lifecycleOwner = self
+    }
+
     // =========================================================================
     // MARK: - Props (conforming to HybridRnBottomSheetSpec)
     // =========================================================================
@@ -121,10 +134,12 @@
 
     func present() throws {
         guard !isCurrentlyPresented else { return }
+        shouldPresentWhenHostAttaches = true
         presentSheet()
     }
 
     func dismiss() throws {
+        shouldPresentWhenHostAttaches = false
         guard isCurrentlyPresented else { return }
         dismissSheet(reason: .programmatic)
     }
@@ -143,13 +158,25 @@
 
     private func handleOpenStateChange(oldValue: Bool) {
         if isOpen && !oldValue {
+            shouldPresentWhenHostAttaches = true
             presentSheet()
         } else if !isOpen && oldValue {
+            shouldPresentWhenHostAttaches = false
             dismissSheet(reason: .programmatic)
         }
     }
 
     private func presentSheet() {
+        guard isHostAttached else {
+            shouldPresentWhenHostAttaches = true
+            return
+        }
+
+        guard !isCurrentlyPresented else {
+            shouldPresentWhenHostAttaches = false
+            return
+        }
+
         guard let presentingVC = findPresentingViewController() else {
             print("[RnBottomSheet] Could not find presenting view controller")
             return
@@ -179,6 +206,7 @@
         // Present the sheet
         presentingVC.present(contentVC, animated: true) { [weak self] in
             self?.isCurrentlyPresented = true
+            self?.shouldPresentWhenHostAttaches = false
             self?.currentDetentIndex = Int(self?.initialDetentIndex ?? 0)
             self?.onDidPresent()
             self?.onOpenChange(true, .programmatic)
@@ -186,9 +214,16 @@
     }
 
     private func dismissSheet(reason: NativeChangeReason) {
+        shouldPresentWhenHostAttaches = false
         guard let contentVC = sheetViewController?.contentViewController else { return }
         contentVC.dismissalReasonOverride = reason
-        contentVC.dismiss(animated: true)
+        if contentVC.presentingViewController != nil {
+            contentVC.dismiss(animated: true)
+        } else {
+            // If UIKit already detached the presenter, reset state immediately.
+            isCurrentlyPresented = false
+            sheetViewController = nil
+        }
     }
 
     private func snapToDetentInternal(_ index: Int, animated: Bool) {
@@ -585,6 +620,60 @@
         let isInteractiveDismissal = presentationController.presentedViewController.transitionCoordinator?.isInteractive ?? false
         contentVC.notePresentationWillDismiss(isInteractive: isInteractiveDismissal)
     }
+
+    fileprivate func hostViewDidAttach() {
+        isHostAttached = true
+
+        if shouldPresentWhenHostAttaches || isOpen {
+            presentSheet()
+        }
+    }
+
+    fileprivate func hostViewDidDetach() {
+        isHostAttached = false
+        shouldPresentWhenHostAttaches = false
+
+        // If the host leaves the hierarchy, force a clean teardown.
+        if isCurrentlyPresented {
+            dismissSheet(reason: .system)
+        }
+    }
+
+    func prepareForRecycle() {
+        shouldPresentWhenHostAttaches = false
+        suppressNextDetentDelegateEvent = false
+
+        // Recycled views should not emit callbacks from stale subscriptions.
+        onOpenChange = { _, _ in }
+        onDetentChange = { _, _ in }
+        onWillPresent = {}
+        onDidPresent = {}
+        onWillDismiss = {}
+        onDidDismiss = {}
+
+        if let contentVC = sheetViewController?.contentViewController {
+            contentVC.dismissalReasonOverride = .system
+            if contentVC.presentingViewController != nil {
+                contentVC.dismiss(animated: false)
+            }
+        }
+
+        isCurrentlyPresented = false
+        sheetViewController = nil
+        currentDetentIndex = 0
+        isHostAttached = view.window != nil
+
+        // Reset public properties to avoid stale configuration on reuse.
+        detents = []
+        initialDetentIndex = 0
+        selectedDetentIndex = -1
+        isOpen = false
+        grabberVisible = true
+        allowSwipeToDismiss = true
+        backgroundInteraction = .first("modal")
+        cornerRadius = -1
+        expandsWhenScrolledToEdge = true
+    }
 }
 
 // =============================================================================
@@ -666,6 +755,26 @@
     }
 }
 
+/// Nitro host view used as the content root and attach/detach lifecycle source.
+final class SheetHostContainerView: UIView {
+    weak var lifecycleOwner: HybridRnBottomSheet?
+    private var isCurrentlyAttached: Bool = false
+
+    override func didMoveToWindow() {
+        super.didMoveToWindow()
+
+        let isAttached = window != nil
+        guard isAttached != isCurrentlyAttached else { return }
+        isCurrentlyAttached = isAttached
+
+        if isAttached {
+            lifecycleOwner?.hostViewDidAttach()
+        } else {
+            lifecycleOwner?.hostViewDidDetach()
+        }
+    }
+}
+
 /// View controller that hosts the React Native content inside the sheet
 class SheetContentViewController: UIViewController {
     weak var presenterDelegate: SheetPresenterDelegate?
diff --git a/tasks/todo.md b/tasks/todo.md
index a7dc0c90a132b95ae3ecf89f1ccead0420a972e7..1703104ea27ebad928d78646b0532d7ae10f3911
--- a/tasks/todo.md
+++ b/tasks/todo.md
@@ -60,6 +60,10 @@
 - Date: 2026-02-12
 - Reviewer: Codex (GPT-5)
 - Findings:
+  - Ralph iteration `Phase 3 Native Host Lifecycle + Recycle`: implemented a dedicated native sheet host container (`SheetHostContainerView`) with explicit attach/detach hooks, deferred presentation until attachment, and deterministic teardown on detach in `ios/RnBottomSheet.swift`.
+  - Added `prepareForRecycle()` conformance in `ios/RnBottomSheet.swift` to clear stale callbacks/session state and reset sheet props for Nitro view reuse safety.
+  - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful `yarn workspace rn-bottom-sheet-example ios` build/run.
+  - Maestro MCP gate check remains non-blocking because `specs/001-native-ios-sheet-bindings/spec.md` currently sets `E2E Gate State: deferred`.
   - Ralph iteration `Phase 2 Dismissal Reason Detection`: implemented native dismissal-reason classification in `ios/RnBottomSheet.swift` with deterministic mapping for `programmatic`, `backdrop`, `swipe`, and `system` (programmatic overrides, backdrop tap inference window, and non-interactive fallback to system), plus callback pass-through coverage for `backdrop`/`system` in `src/__tests__/bottom-sheet.navigation.test.ts`.
   - Re-verified this iteration with passing `yarn lint`, `yarn typecheck`, `yarn test`, and successful iOS simulator build via `xcodebuild -workspace example/ios/rnBottomSheetExample.xcworkspace -scheme RnBottomSheetExample -configuration Debug -sdk iphonesimulator -destination 'generic/platform=iOS Simulator' build`.
   - Ralph iteration `P2 iOS native conformance blocker`: fixed `ios/RnBottomSheet.swift` to conform to generated `HybridRnBottomSheetSpec` types/signatures (typed detents/background interaction/callbacks + throwing methods), replaced direct `UISheetPresentationControllerDelegate` conformance with an `NSObject` proxy, and normalized dismissal/detent callback routing.
@@ -352,3 +356,11 @@
 - [x] Add or extend automated tests to lock reason mapping behavior
 - [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`
 - [x] Update `IMPLEMENTATION_PLAN.md` progress and capture outcomes in `tasks/todo.md` Review
+
+## Ralph Iteration 2026-02-12 (Phase 3 Native Host Lifecycle + Recycle)
+
+- [x] Confirm the highest-priority truly incomplete item is Phase 3 content hosting lifecycle/recycle handling and verify it is not already implemented
+- [x] Implement a native sheet host container view for RN children with explicit attach/detach lifecycle hooks in `ios/RnBottomSheet.swift`
+- [x] Implement `prepareForRecycle()` cleanup to reset presenter/session state safely for Nitro view reuse in `ios/RnBottomSheet.swift`
+- [x] Run and pass verification: `yarn lint`, `yarn typecheck`, `yarn test`, `yarn workspace rn-bottom-sheet-example ios`
+- [x] Update `IMPLEMENTATION_PLAN.md` and `tasks/todo.md` Review with outcomes

tokens used
151,003
<promise>DONE</promise>
